# Практическая работа: Строим земноводных

### Прежде чем начать

В этом разделе вы узнали, как вывести свое приложение на новый уровень, получая данные из Интернета. Теперь ваше приложение может показывать последние данные, доступные с сервера, и не ограничиваться тем, что было статично доступно, когда вы открыли приложение. Это очень важная функциональность в большинстве реальных приложений.

В этом практическом задании вы воспользуетесь изученными концепциями и создадите приложение `Amphibians`. Это приложение будет получать данные об амфибиях из интернета и отображать их в виде прокручивающегося списка.

Чтобы извлечь максимум пользы из этого учебного опыта, постарайтесь реализовать и устранить как можно больше неполадок, прежде чем изучать предоставленный код решения. Именно во время практической работы вы узнаете больше всего нового.

### Предварительные условия

- Материалы из лекции Load and display images from the internet

### Что вам понадобится

- Компьютер с доступом в интернет и установленной программой Android Studio.

### Что вы будете создавать

В этом практическом задании вы создадите приложение, которое будет отображать список амфибий, а также их подробную информацию и изображение. Данные извлекаются из интернета с помощью сетевого запроса и содержат название, вид, описание и URL-адрес изображения каждой амфибии.

JSON-данные об амфибиях размещены на сайте https://android-kotlin-fun-mars-server.appspot.com/amphibians.

Предоставленный код решения отображает следующий дизайн пользовательского интерфейса:

<img src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-practice-amphibians-app/img/b0e225571b16ffb_856.png" width="300">

В следующих разделах приведены общие шаги по созданию приложения. Вы не обязаны следовать им, но они приведены для того, чтобы помочь вам сориентироваться на этом пути.

### Планирование приложения

Прежде чем приступить к кодированию, потратьте некоторое время на то, чтобы набросать различные элементы приложения и их взаимосвязь.

Такая подготовительная работа поможет определить, что вам нужно сделать, укажет, где вы можете столкнуться с проблемами, и поможет продумать пути их решения.

### Создайте новый проект

Начните с нового проекта в Android Studio:

- Откройте Android Studio и выберите Новый проект.
- В разделе Шаблоны выберите Телефон и Планшет.
- Выберите Empty Activity и нажмите Next.
- Измените название на `Amphibians`.
- Нажмите Готово.

Теперь вы готовы приступить к кодированию!

### Настройка зависимостей

Приложение использует Retrofit для сетевых запросов, Coil для загрузки изображений и библиотеку `kotlinx.serialization` для разбора JSON, возвращаемого API `Amphibians`.

- Добавьте их зависимости в `app/build.gradle.kts`.


### Создание слоя пользовательского интерфейса

Рекомендуется следовать лучшим практикам архитектуры приложений для Android и создать слой пользовательского интерфейса для этого приложения.

Этот слой содержит `ViewModel` и композитные функции, которые отображают `UiState`, поступающие от `ViewModel`, на экране. `ViewModel` отвечает за отображение состояния пользовательского интерфейса на экране, а также за обработку бизнес-логики в слое UI и вызов бизнес-логики из других слоев иерархии.

Слой UI также содержит визуальные элементы, которые видят ваши пользователи и с которыми они взаимодействуют. На этом уровне вы решаете, как различные элементы будут сочетаться друг с другом, чтобы создать тот пользовательский интерфейс, который вы себе представляете. Вы определяете цвета, шрифты и способ отображения изображений.

### Создание слоя данных

Слой данных отвечает за получение данных об амфибиях из API.

Вероятно, вы захотите включить класс данных для данных об амфибиях, хранилище для управления данными и класс источника данных для получения данных из сети.

Если вам нужна помощь в выполнении сетевых вызовов, вы можете обратиться к Web-сервисам и Retrofit из лекции «Получение данных из интернета».

Для помощи в разборе ответа сети обратитесь к разделу "Разбор ответа JSON с помощью kotlinx.serialization".

Для загрузки изображений с помощью `Coil` вы можете ознакомиться с официальной документацией или обратиться к разделу «Отображение загруженного изображения» из лекции «Загрузка и отображение изображений из Интернета».

### Внедрение инъекции зависимостей
Чтобы ваше приложение было гибким, надежным и готовым к масштабированию, следует использовать инъекцию зависимостей (Dependency Injection, DI).

DI позволяет поддерживать свободную связь между компонентами приложения и облегчает тестирование.

При внедрении DI необходимо создать контейнер приложений, который используется для получения зависимостей, необходимых вашему приложению.

Контейнер приложения должен быть доступен для всего приложения. Этого можно добиться, поместив контейнер зависимостей в пользовательский класс `Application`. Этот класс наследуется от класса Application.
