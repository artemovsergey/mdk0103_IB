# Практика: Создание спортивного приложения

1. Прежде чем начать
Поздравляем! На этом пути вы узнали, как сделать свое приложение адаптивным с помощью класса WindowWidthSize и канонического макета. Теперь пришло время применить полученные знания на практике.

В этом практическом наборе вы будете развивать концепции, изученные на этом пути, создавая приложение Sports. Стартовое приложение полностью функционально для мобильного макета. Ваша задача - сделать его адаптивным для больших экранов.

Код решения доступен в конце, но попробуйте решить упражнения, прежде чем проверять его. Работайте над задачами в удобном для вас темпе. Указана продолжительность работы, но вы не обязаны ее придерживаться, так как это лишь приблизительные данные. Вы можете потратить столько времени, сколько вам нужно для вдумчивого решения каждой задачи.

Предварительные условия
Пройдите курс «Основы Android в Compose» в рамках коделабов «Создание адаптивного приложения с динамической навигацией» и «Создание адаптивного приложения с адаптивной версткой».
Что вам понадобится
Компьютер с доступом в интернет и установленной Android Studio
Доступ к GitHub
Что вы будете создавать
Спортивное приложение, адаптирующееся к большому экрану. Готовое приложение выглядит так, как показано на следующем изображении:

![](https://developer.android.com/static/codelabs/basic-android-kotlin-compose-practice-sports-app/img/1ce365f97570965e_856.png)



# 2. Начало работы
Скачайте начальный код
В Android Studio откройте папку basic-android-kotlin-compose-training-sports.

URL стартового кода:

https://github.com/google-developer-training/basic-android-kotlin-compose-training-sports/tree/starter

Название ветки со стартовым кодом: starter


# 3. План адаптации приложения «Спорт» для больших экранов
Чтобы адаптировать приложение «Спорт» для больших экранов, сначала нужно определить тип макета, который лучше всего отображает приложение на больших экранах.

Начните обзор текущих макетов, доступных для компактных экранов. Есть два экрана - экран списка, который соответствует композиту SportsList, и экран деталей, который соответствует композиту SportsDetail.

<div style="display:flex">
    <div>
        <img src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-practice-sports-app/img/87ecbf0695393421_856.png"/>
    </div>
    <div>
        <img src="https://developer.android.com/static/codelabs/basic-android-kotlin-compose-practice-sports-app/img/6021d2078a2225ad_856.png"/>
    </div>
</div>

Просмотрите канонический макет, чтобы определить, какой макет лучше всего подходит для приложения Sports.
Сделайте набросок возможного расширенного макета экрана. Используйте простую программу визуального проектирования или лист бумаги, чтобы представить, как экраны сочетаются друг с другом в расширенном макете.

![](https://developer.android.com/static/codelabs/basic-android-kotlin-compose-practice-sports-app/img/bb59e5ec7da56f7a_856.png)


# 4. Создание расширенного экрана в коде
Теперь, когда у вас есть четкое представление о том, как выглядит расширенный макет, давайте переведем его в код.

Создайте композит для расширенного экрана, который будет показывать и список, и подробности. Вы можете назвать его SportsListAndDetails и поместить в файл SportsScreens.kt.
Создайте композитный предварительный просмотр, чтобы упростить проверку пользовательского интерфейса для композитного экрана SportsListAndDetails.

![](https://developer.android.com/static/codelabs/basic-android-kotlin-compose-practice-sports-app/img/678504d0ec535896_856.png)


Убедитесь, что поведение кнопки «Назад» соответствует расширенному экрану. Когда пользователь нажимает кнопку «назад», вы хотите, чтобы он вышел из приложения, когда появится главный экран. Вы можете изменить это поведение, передав соответствующую лямбду в составной модуль SportsDetails. Подсказка: вы можете получить доступ к Activity приложения из (LocalContext.current as Activity).


# 5. Переключение приложения на другой макет в зависимости от размера окна
Чтобы добавить в приложение композит расширенного экрана, выполните следующие задачи:

Добавьте androidx.compose.material3:material3-window-size-class в build.gradle.kts приложения.
Вычислите windowSizeClass в MainActivity и передайте widthSizeClass в композит SportsApp.
Создайте новый каталог с именем utils и создайте новый файл WindowStateUtils.kt.
Добавьте в WindowStateUtils класс перечисления для обозначения двух различных contentType. Вы можете назвать их ListOnly и ListAndDetail.
В составном SportsApp определите тип содержимого, основываясь на классе widthSizeClass.
Отобразите составной SportsListAndDetails, если тип содержимого ListAndDetail, и сохраните прежнее поведение, если тип содержимого ListOnly.
Для составной панели SportsAppBar измените поведение, чтобы кнопка «Назад» не появлялась, а панель приложений отображала Sports, когда экран расширяется на странице со списком.
Проверьте возможности пользовательского интерфейса и навигации на компактном и расширенном экранах с помощью эмулятора с изменяемыми размерами.


# 6. Получите код решения
Чтобы загрузить код готового коделаба, вы можете использовать эту команду git:

```
$ git clone https://github.com/google-developer-training/basic-android-kotlin-compose-training-sports.git
```
Также вы можете скачать репозиторий в виде zip-файла, разархивировать его и открыть в Android Studio.
